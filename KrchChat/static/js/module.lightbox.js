export default function(a){const c=SEMICOLON.Core;c.loadJS({file:"plugins.lightbox.js",id:"canvas-lightbox-js",jsFolder:!0}),c.isFuncTrue(()=>jQuery().magnificPopup).then(e=>{if(!e)return!1;if(c.initFunction({class:"has-plugin-lightbox",event:"pluginLightboxReady"}),(a=c.getSelector(a)).length<1)return!0;let s='<i class="bi-x-lg"></i>';a.each(function(){let e=jQuery(this),a=e.attr("data-lightbox"),n=e.attr("data-close-button")||"outside",t=e.attr("data-disable-under")||600,i=e.attr("data-content-position")||"auto",o=e.attr("data-zoom"),l=jQuery("body");var d;n="inside"==n,i="fixed"==i,"image"==a&&(d={type:"image",tLoading:"",closeOnContentClick:!0,closeBtnInside:n,fixedContentPos:!0,mainClass:"mfp-no-margins mfp-fade",image:{verticalFit:!0},closeIcon:s},"true"==o&&(d.zoom={enabled:!0,duration:300,easing:"ease-in-out",opener:function(e){return e.is("img")?e:e.find("img")}}),e.magnificPopup(d)),"gallery"==a&&(e.find('a[data-lightbox="gallery-item"]').parent(".clone").hasClass("clone")&&e.find('a[data-lightbox="gallery-item"]').parent(".clone").find('a[data-lightbox="gallery-item"]').attr("data-lightbox",""),e.find('a[data-lightbox="gallery-item"]').parents(".cloned").hasClass("cloned")&&e.find('a[data-lightbox="gallery-item"]').parents(".cloned").find('a[data-lightbox="gallery-item"]').attr("data-lightbox",""),e.magnificPopup({delegate:'a[data-lightbox="gallery-item"]',type:"image",tLoading:"",closeOnContentClick:!0,closeBtnInside:n,fixedContentPos:!0,mainClass:"mfp-no-margins mfp-fade",image:{verticalFit:!0},gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},closeIcon:s})),"iframe"==a&&e.magnificPopup({disableOn:Number(t),type:"iframe",tLoading:"",removalDelay:160,preloader:!1,closeBtnInside:n,fixedContentPos:i,closeIcon:s}),"inline"==a&&e.magnificPopup({type:"inline",tLoading:"",mainClass:"mfp-no-margins mfp-fade",closeBtnInside:n,fixedContentPos:!0,overflowY:"scroll",closeIcon:s}),"ajax"==a&&e.magnificPopup({type:"ajax",tLoading:"",closeBtnInside:n,autoFocusLast:!1,closeIcon:s,callbacks:{ajaxContentAdded:function(e){c.runContainerModules(document.querySelector(".mfp-content"))},open:function(){l.addClass("ohidden")},close:function(){l.removeClass("ohidden")}}}),"ajax-gallery"==a&&e.magnificPopup({delegate:'a[data-lightbox="ajax-gallery-item"]',type:"ajax",tLoading:"",closeBtnInside:n,closeIcon:s,autoFocusLast:!1,gallery:{enabled:!0,preload:0,navigateByImgClick:!1},callbacks:{ajaxContentAdded:function(e){c.runContainerModules(document.querySelector(".mfp-content"))},open:function(){l.addClass("ohidden")},close:function(){l.removeClass("ohidden")}}}),e.on("mfpOpen",function(){var e=jQuery.magnificPopup.instance.currItem.el,a=jQuery(e).attr("data-lightbox-class"),e=jQuery(e).attr("data-lightbox-bg-class");""!=a&&jQuery(jQuery.magnificPopup.instance.container).addClass(a),""!=e&&jQuery(jQuery.magnificPopup.instance.bgOverlay).addClass(e)})})})}